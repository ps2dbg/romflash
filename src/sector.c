
#include "romflash_internal.h"

// clang-format off
static struct type_list_inner_item list_a4[] =
{
	{ 0, 65536 },
	{ 65536, 65536 },
	{ 131072, 65536 },
	{ 196608, 65536 },
	{ 262144, 65536 },
	{ 327680, 65536 },
	{ 393216, 65536 },
	{ 458752, 65536 }
};
static struct type_list_inner_item list_c4[] =
{
	{ 0, 65536 },
	{ 65536, 65536 },
	{ 131072, 65536 },
	{ 196608, 65536 },
	{ 262144, 65536 },
	{ 327680, 65536 },
	{ 393216, 65536 },
	{ 458752, 65536 },
	{ 524288, 65536 },
	{ 589824, 65536 },
	{ 655360, 65536 },
	{ 720896, 65536 },
	{ 786432, 65536 },
	{ 851968, 65536 },
	{ 917504, 65536 },
	{ 983040, 65536 },
	{ 1048576, 65536 },
	{ 1114112, 65536 },
	{ 1179648, 65536 },
	{ 1245184, 65536 },
	{ 1310720, 65536 },
	{ 1376256, 65536 },
	{ 1441792, 65536 },
	{ 1507328, 65536 },
	{ 1572864, 65536 },
	{ 1638400, 65536 },
	{ 1703936, 65536 },
	{ 1769472, 65536 },
	{ 1835008, 65536 },
	{ 1900544, 65536 },
	{ 1966080, 65536 },
	{ 2031616, 32768 },
	{ 2064384, 8192 },
	{ 2072576, 8192 },
	{ 2080768, 16384 },
	{ 2097152, 65536 },
	{ 2162688, 65536 },
	{ 2228224, 65536 },
	{ 2293760, 65536 },
	{ 2359296, 65536 },
	{ 2424832, 65536 },
	{ 2490368, 65536 },
	{ 2555904, 65536 },
	{ 2621440, 65536 },
	{ 2686976, 65536 },
	{ 2752512, 65536 },
	{ 2818048, 65536 },
	{ 2883584, 65536 },
	{ 2949120, 65536 },
	{ 3014656, 65536 },
	{ 3080192, 65536 },
	{ 3145728, 65536 },
	{ 3211264, 65536 },
	{ 3276800, 65536 },
	{ 3342336, 65536 },
	{ 3407872, 65536 },
	{ 3473408, 65536 },
	{ 3538944, 65536 },
	{ 3604480, 65536 },
	{ 3670016, 65536 },
	{ 3735552, 65536 },
	{ 3801088, 65536 },
	{ 3866624, 65536 },
	{ 3932160, 65536 },
	{ 3997696, 65536 },
	{ 4063232, 65536 },
	{ 4128768, 32768 },
	{ 4161536, 8192 },
	{ 4169728, 8192 },
	{ 4177920, 16384 }
};
static struct type_list_inner_item list_49[] =
{
	{ 0, 16384 },
	{ 16384, 8192 },
	{ 24576, 8192 },
	{ 32768, 32768 },
	{ 65536, 65536 },
	{ 131072, 65536 },
	{ 196608, 65536 },
	{ 262144, 65536 },
	{ 327680, 65536 },
	{ 393216, 65536 },
	{ 458752, 65536 },
	{ 524288, 65536 },
	{ 589824, 65536 },
	{ 655360, 65536 },
	{ 720896, 65536 },
	{ 786432, 65536 },
	{ 851968, 65536 },
	{ 917504, 65536 },
	{ 983040, 65536 },
	{ 1048576, 65536 },
	{ 1114112, 65536 },
	{ 1179648, 65536 },
	{ 1245184, 65536 },
	{ 1310720, 65536 },
	{ 1376256, 65536 },
	{ 1441792, 65536 },
	{ 1507328, 65536 },
	{ 1572864, 65536 },
	{ 1638400, 65536 },
	{ 1703936, 65536 },
	{ 1769472, 65536 },
	{ 1835008, 65536 },
	{ 1900544, 65536 },
	{ 1966080, 65536 },
	{ 2031616, 65536 },
	{ 2097152, 16384 },
	{ 2113536, 8192 },
	{ 2121728, 8192 },
	{ 2129920, 32768 },
	{ 2162688, 65536 },
	{ 2228224, 65536 },
	{ 2293760, 65536 },
	{ 2359296, 65536 },
	{ 2424832, 65536 },
	{ 2490368, 65536 },
	{ 2555904, 65536 },
	{ 2621440, 65536 },
	{ 2686976, 65536 },
	{ 2752512, 65536 },
	{ 2818048, 65536 },
	{ 2883584, 65536 },
	{ 2949120, 65536 },
	{ 3014656, 65536 },
	{ 3080192, 65536 },
	{ 3145728, 65536 },
	{ 3211264, 65536 },
	{ 3276800, 65536 },
	{ 3342336, 65536 },
	{ 3407872, 65536 },
	{ 3473408, 65536 },
	{ 3538944, 65536 },
	{ 3604480, 65536 },
	{ 3670016, 65536 },
	{ 3735552, 65536 },
	{ 3801088, 65536 },
	{ 3866624, 65536 },
	{ 3932160, 65536 },
	{ 3997696, 65536 },
	{ 4063232, 65536 },
	{ 4128768, 65536 },
	{ 4194304, 16384 },
	{ 4210688, 8192 },
	{ 4218880, 8192 },
	{ 4227072, 32768 },
	{ 4259840, 65536 },
	{ 4325376, 65536 },
	{ 4390912, 65536 },
	{ 4456448, 65536 },
	{ 4521984, 65536 },
	{ 4587520, 65536 },
	{ 4653056, 65536 },
	{ 4718592, 65536 },
	{ 4784128, 65536 },
	{ 4849664, 65536 },
	{ 4915200, 65536 },
	{ 4980736, 65536 },
	{ 5046272, 65536 },
	{ 5111808, 65536 },
	{ 5177344, 65536 },
	{ 5242880, 65536 },
	{ 5308416, 65536 },
	{ 5373952, 65536 },
	{ 5439488, 65536 },
	{ 5505024, 65536 },
	{ 5570560, 65536 },
	{ 5636096, 65536 },
	{ 5701632, 65536 },
	{ 5767168, 65536 },
	{ 5832704, 65536 },
	{ 5898240, 65536 },
	{ 5963776, 65536 },
	{ 6029312, 65536 },
	{ 6094848, 65536 },
	{ 6160384, 65536 },
	{ 6225920, 65536 },
	{ 6291456, 16384 },
	{ 6307840, 8192 },
	{ 6316032, 8192 },
	{ 6324224, 32768 },
	{ 6356992, 65536 },
	{ 6422528, 65536 },
	{ 6488064, 65536 },
	{ 6553600, 65536 },
	{ 6619136, 65536 },
	{ 6684672, 65536 },
	{ 6750208, 65536 },
	{ 6815744, 65536 },
	{ 6881280, 65536 },
	{ 6946816, 65536 },
	{ 7012352, 65536 },
	{ 7077888, 65536 },
	{ 7143424, 65536 },
	{ 7208960, 65536 },
	{ 7274496, 65536 },
	{ 7340032, 65536 },
	{ 7405568, 65536 },
	{ 7471104, 65536 },
	{ 7536640, 65536 },
	{ 7602176, 65536 },
	{ 7667712, 65536 },
	{ 7733248, 65536 },
	{ 7798784, 65536 },
	{ 7864320, 65536 },
	{ 7929856, 65536 },
	{ 7995392, 65536 },
	{ 8060928, 65536 },
	{ 8126464, 65536 },
	{ 8192000, 65536 },
	{ 8257536, 65536 },
	{ 8323072, 65536 },
	{ 8388608, 16384 },
	{ 8404992, 8192 },
	{ 8413184, 8192 },
	{ 8421376, 32768 },
	{ 8454144, 65536 },
	{ 8519680, 65536 },
	{ 8585216, 65536 },
	{ 8650752, 65536 },
	{ 8716288, 65536 },
	{ 8781824, 65536 },
	{ 8847360, 65536 },
	{ 8912896, 65536 },
	{ 8978432, 65536 },
	{ 9043968, 65536 },
	{ 9109504, 65536 },
	{ 9175040, 65536 },
	{ 9240576, 65536 },
	{ 9306112, 65536 },
	{ 9371648, 65536 },
	{ 9437184, 65536 },
	{ 9502720, 65536 },
	{ 9568256, 65536 },
	{ 9633792, 65536 },
	{ 9699328, 65536 },
	{ 9764864, 65536 },
	{ 9830400, 65536 },
	{ 9895936, 65536 },
	{ 9961472, 65536 },
	{ 10027008, 65536 },
	{ 10092544, 65536 },
	{ 10158080, 65536 },
	{ 10223616, 65536 },
	{ 10289152, 65536 },
	{ 10354688, 65536 },
	{ 10420224, 65536 },
	{ 10485760, 16384 },
	{ 10502144, 8192 },
	{ 10510336, 8192 },
	{ 10518528, 32768 },
	{ 10551296, 65536 },
	{ 10616832, 65536 },
	{ 10682368, 65536 },
	{ 10747904, 65536 },
	{ 10813440, 65536 },
	{ 10878976, 65536 },
	{ 10944512, 65536 },
	{ 11010048, 65536 },
	{ 11075584, 65536 },
	{ 11141120, 65536 },
	{ 11206656, 65536 },
	{ 11272192, 65536 },
	{ 11337728, 65536 },
	{ 11403264, 65536 },
	{ 11468800, 65536 },
	{ 11534336, 65536 },
	{ 11599872, 65536 },
	{ 11665408, 65536 },
	{ 11730944, 65536 },
	{ 11796480, 65536 },
	{ 11862016, 65536 },
	{ 11927552, 65536 },
	{ 11993088, 65536 },
	{ 12058624, 65536 },
	{ 12124160, 65536 },
	{ 12189696, 65536 },
	{ 12255232, 65536 },
	{ 12320768, 65536 },
	{ 12386304, 65536 },
	{ 12451840, 65536 },
	{ 12517376, 65536 },
	{ 12582912, 16384 },
	{ 12599296, 8192 },
	{ 12607488, 8192 },
	{ 12615680, 32768 },
	{ 12648448, 65536 },
	{ 12713984, 65536 },
	{ 12779520, 65536 },
	{ 12845056, 65536 },
	{ 12910592, 65536 },
	{ 12976128, 65536 },
	{ 13041664, 65536 },
	{ 13107200, 65536 },
	{ 13172736, 65536 },
	{ 13238272, 65536 },
	{ 13303808, 65536 },
	{ 13369344, 65536 },
	{ 13434880, 65536 },
	{ 13500416, 65536 },
	{ 13565952, 65536 },
	{ 13631488, 65536 },
	{ 13697024, 65536 },
	{ 13762560, 65536 },
	{ 13828096, 65536 },
	{ 13893632, 65536 },
	{ 13959168, 65536 },
	{ 14024704, 65536 },
	{ 14090240, 65536 },
	{ 14155776, 65536 },
	{ 14221312, 65536 },
	{ 14286848, 65536 },
	{ 14352384, 65536 },
	{ 14417920, 65536 },
	{ 14483456, 65536 },
	{ 14548992, 65536 },
	{ 14614528, 65536 },
	{ 14680064, 16384 },
	{ 14696448, 8192 },
	{ 14704640, 8192 },
	{ 14712832, 32768 },
	{ 14745600, 65536 },
	{ 14811136, 65536 },
	{ 14876672, 65536 },
	{ 14942208, 65536 },
	{ 15007744, 65536 },
	{ 15073280, 65536 },
	{ 15138816, 65536 },
	{ 15204352, 65536 },
	{ 15269888, 65536 },
	{ 15335424, 65536 },
	{ 15400960, 65536 },
	{ 15466496, 65536 },
	{ 15532032, 65536 },
	{ 15597568, 65536 },
	{ 15663104, 65536 },
	{ 15728640, 65536 },
	{ 15794176, 65536 },
	{ 15859712, 65536 },
	{ 15925248, 65536 },
	{ 15990784, 65536 },
	{ 16056320, 65536 },
	{ 16121856, 65536 },
	{ 16187392, 65536 },
	{ 16252928, 65536 },
	{ 16318464, 65536 },
	{ 16384000, 65536 },
	{ 16449536, 65536 },
	{ 16515072, 65536 },
	{ 16580608, 65536 },
	{ 16646144, 65536 },
	{ 16711680, 65536 }
};
static struct type_list_inner_item list_5f[] =
{
	{ 0, 8192 },
	{ 8192, 8192 },
	{ 16384, 8192 },
	{ 24576, 8192 },
	{ 32768, 8192 },
	{ 40960, 8192 },
	{ 49152, 8192 },
	{ 57344, 8192 },
	{ 65536, 65536 },
	{ 131072, 65536 },
	{ 196608, 65536 },
	{ 262144, 65536 },
	{ 327680, 65536 },
	{ 393216, 65536 },
	{ 458752, 65536 },
	{ 524288, 65536 },
	{ 589824, 65536 },
	{ 655360, 65536 },
	{ 720896, 65536 },
	{ 786432, 65536 },
	{ 851968, 65536 },
	{ 917504, 65536 },
	{ 983040, 65536 },
	{ 1048576, 65536 },
	{ 1114112, 65536 },
	{ 1179648, 65536 },
	{ 1245184, 65536 },
	{ 1310720, 65536 },
	{ 1376256, 65536 },
	{ 1441792, 65536 },
	{ 1507328, 65536 },
	{ 1572864, 65536 },
	{ 1638400, 65536 },
	{ 1703936, 65536 },
	{ 1769472, 65536 },
	{ 1835008, 65536 },
	{ 1900544, 65536 },
	{ 1966080, 65536 },
	{ 2031616, 65536 },
	{ 2097152, 65536 },
	{ 2162688, 65536 },
	{ 2228224, 65536 },
	{ 2293760, 65536 },
	{ 2359296, 65536 },
	{ 2424832, 65536 },
	{ 2490368, 65536 },
	{ 2555904, 65536 },
	{ 2621440, 65536 },
	{ 2686976, 65536 },
	{ 2752512, 65536 },
	{ 2818048, 65536 },
	{ 2883584, 65536 },
	{ 2949120, 65536 },
	{ 3014656, 65536 },
	{ 3080192, 65536 },
	{ 3145728, 65536 },
	{ 3211264, 65536 },
	{ 3276800, 65536 },
	{ 3342336, 65536 },
	{ 3407872, 65536 },
	{ 3473408, 65536 },
	{ 3538944, 65536 },
	{ 3604480, 65536 },
	{ 3670016, 65536 },
	{ 3735552, 65536 },
	{ 3801088, 65536 },
	{ 3866624, 65536 },
	{ 3932160, 65536 },
	{ 3997696, 65536 },
	{ 4063232, 65536 },
	{ 4128768, 65536 }
};
static struct type_list_inner_item list_5c[] =
{
	{ 0, 65536 },
	{ 65536, 65536 },
	{ 131072, 65536 },
	{ 196608, 65536 },
	{ 262144, 65536 },
	{ 327680, 65536 },
	{ 393216, 65536 },
	{ 458752, 65536 },
	{ 524288, 65536 },
	{ 589824, 65536 },
	{ 655360, 65536 },
	{ 720896, 65536 },
	{ 786432, 65536 },
	{ 851968, 65536 },
	{ 917504, 65536 },
	{ 983040, 65536 },
	{ 1048576, 65536 },
	{ 1114112, 65536 },
	{ 1179648, 65536 },
	{ 1245184, 65536 },
	{ 1310720, 65536 },
	{ 1376256, 65536 },
	{ 1441792, 65536 },
	{ 1507328, 65536 },
	{ 1572864, 65536 },
	{ 1638400, 65536 },
	{ 1703936, 65536 },
	{ 1769472, 65536 },
	{ 1835008, 65536 },
	{ 1900544, 65536 },
	{ 1966080, 65536 },
	{ 2031616, 65536 },
	{ 2097152, 65536 },
	{ 2162688, 65536 },
	{ 2228224, 65536 },
	{ 2293760, 65536 },
	{ 2359296, 65536 },
	{ 2424832, 65536 },
	{ 2490368, 65536 },
	{ 2555904, 65536 },
	{ 2621440, 65536 },
	{ 2686976, 65536 },
	{ 2752512, 65536 },
	{ 2818048, 65536 },
	{ 2883584, 65536 },
	{ 2949120, 65536 },
	{ 3014656, 65536 },
	{ 3080192, 65536 },
	{ 3145728, 65536 },
	{ 3211264, 65536 },
	{ 3276800, 65536 },
	{ 3342336, 65536 },
	{ 3407872, 65536 },
	{ 3473408, 65536 },
	{ 3538944, 65536 },
	{ 3604480, 65536 },
	{ 3670016, 65536 },
	{ 3735552, 65536 },
	{ 3801088, 65536 },
	{ 3866624, 65536 },
	{ 3932160, 65536 },
	{ 3997696, 65536 },
	{ 4063232, 65536 },
	{ 4128768, 8192 },
	{ 4136960, 8192 },
	{ 4145152, 8192 },
	{ 4153344, 8192 },
	{ 4161536, 8192 },
	{ 4169728, 8192 },
	{ 4177920, 8192 },
	{ 4186112, 8192 },
	{ 4194304, 65536 },
	{ 4259840, 65536 },
	{ 4325376, 65536 },
	{ 4390912, 65536 },
	{ 4456448, 65536 },
	{ 4521984, 65536 },
	{ 4587520, 65536 },
	{ 4653056, 65536 },
	{ 4718592, 65536 },
	{ 4784128, 65536 },
	{ 4849664, 65536 },
	{ 4915200, 65536 },
	{ 4980736, 65536 },
	{ 5046272, 65536 },
	{ 5111808, 65536 },
	{ 5177344, 65536 },
	{ 5242880, 65536 },
	{ 5308416, 65536 },
	{ 5373952, 65536 },
	{ 5439488, 65536 },
	{ 5505024, 65536 },
	{ 5570560, 65536 },
	{ 5636096, 65536 },
	{ 5701632, 65536 },
	{ 5767168, 65536 },
	{ 5832704, 65536 },
	{ 5898240, 65536 },
	{ 5963776, 65536 },
	{ 6029312, 65536 },
	{ 6094848, 65536 },
	{ 6160384, 65536 },
	{ 6225920, 65536 },
	{ 6291456, 65536 },
	{ 6356992, 65536 },
	{ 6422528, 65536 },
	{ 6488064, 65536 },
	{ 6553600, 65536 },
	{ 6619136, 65536 },
	{ 6684672, 65536 },
	{ 6750208, 65536 },
	{ 6815744, 65536 },
	{ 6881280, 65536 },
	{ 6946816, 65536 },
	{ 7012352, 65536 },
	{ 7077888, 65536 },
	{ 7143424, 65536 },
	{ 7208960, 65536 },
	{ 7274496, 65536 },
	{ 7340032, 65536 },
	{ 7405568, 65536 },
	{ 7471104, 65536 },
	{ 7536640, 65536 },
	{ 7602176, 65536 },
	{ 7667712, 65536 },
	{ 7733248, 65536 },
	{ 7798784, 65536 },
	{ 7864320, 65536 },
	{ 7929856, 65536 },
	{ 7995392, 65536 },
	{ 8060928, 65536 },
	{ 8126464, 65536 },
	{ 8192000, 65536 },
	{ 8257536, 65536 },
	{ 8323072, 8192 },
	{ 8331264, 8192 },
	{ 8339456, 8192 },
	{ 8347648, 8192 },
	{ 8355840, 8192 },
	{ 8364032, 8192 },
	{ 8372224, 8192 },
	{ 8380416, 8192 },
	{ 8388608, 65536 },
	{ 8454144, 65536 },
	{ 8519680, 65536 },
	{ 8585216, 65536 },
	{ 8650752, 65536 },
	{ 8716288, 65536 },
	{ 8781824, 65536 },
	{ 8847360, 65536 },
	{ 8912896, 65536 },
	{ 8978432, 65536 },
	{ 9043968, 65536 },
	{ 9109504, 65536 },
	{ 9175040, 65536 },
	{ 9240576, 65536 },
	{ 9306112, 65536 },
	{ 9371648, 65536 },
	{ 9437184, 65536 },
	{ 9502720, 65536 },
	{ 9568256, 65536 },
	{ 9633792, 65536 },
	{ 9699328, 65536 },
	{ 9764864, 65536 },
	{ 9830400, 65536 },
	{ 9895936, 65536 },
	{ 9961472, 65536 },
	{ 10027008, 65536 },
	{ 10092544, 65536 },
	{ 10158080, 65536 },
	{ 10223616, 65536 },
	{ 10289152, 65536 },
	{ 10354688, 65536 },
	{ 10420224, 65536 },
	{ 10485760, 65536 },
	{ 10551296, 65536 },
	{ 10616832, 65536 },
	{ 10682368, 65536 },
	{ 10747904, 65536 },
	{ 10813440, 65536 },
	{ 10878976, 65536 },
	{ 10944512, 65536 },
	{ 11010048, 65536 },
	{ 11075584, 65536 },
	{ 11141120, 65536 },
	{ 11206656, 65536 },
	{ 11272192, 65536 },
	{ 11337728, 65536 },
	{ 11403264, 65536 },
	{ 11468800, 65536 },
	{ 11534336, 65536 },
	{ 11599872, 65536 },
	{ 11665408, 65536 },
	{ 11730944, 65536 },
	{ 11796480, 65536 },
	{ 11862016, 65536 },
	{ 11927552, 65536 },
	{ 11993088, 65536 },
	{ 12058624, 65536 },
	{ 12124160, 65536 },
	{ 12189696, 65536 },
	{ 12255232, 65536 },
	{ 12320768, 65536 },
	{ 12386304, 65536 },
	{ 12451840, 65536 },
	{ 12517376, 8192 },
	{ 12525568, 8192 },
	{ 12533760, 8192 },
	{ 12541952, 8192 },
	{ 12550144, 8192 },
	{ 12558336, 8192 },
	{ 12566528, 8192 },
	{ 12574720, 8192 },
	{ 12582912, 65536 },
	{ 12648448, 65536 },
	{ 12713984, 65536 },
	{ 12779520, 65536 },
	{ 12845056, 65536 },
	{ 12910592, 65536 },
	{ 12976128, 65536 },
	{ 13041664, 65536 },
	{ 13107200, 65536 },
	{ 13172736, 65536 },
	{ 13238272, 65536 },
	{ 13303808, 65536 },
	{ 13369344, 65536 },
	{ 13434880, 65536 },
	{ 13500416, 65536 },
	{ 13565952, 65536 },
	{ 13631488, 65536 },
	{ 13697024, 65536 },
	{ 13762560, 65536 },
	{ 13828096, 65536 },
	{ 13893632, 65536 },
	{ 13959168, 65536 },
	{ 14024704, 65536 },
	{ 14090240, 65536 },
	{ 14155776, 65536 },
	{ 14221312, 65536 },
	{ 14286848, 65536 },
	{ 14352384, 65536 },
	{ 14417920, 65536 },
	{ 14483456, 65536 },
	{ 14548992, 65536 },
	{ 14614528, 65536 },
	{ 14680064, 65536 },
	{ 14745600, 65536 },
	{ 14811136, 65536 },
	{ 14876672, 65536 },
	{ 14942208, 65536 },
	{ 15007744, 65536 },
	{ 15073280, 65536 },
	{ 15138816, 65536 },
	{ 15204352, 65536 },
	{ 15269888, 65536 },
	{ 15335424, 65536 },
	{ 15400960, 65536 },
	{ 15466496, 65536 },
	{ 15532032, 65536 },
	{ 15597568, 65536 },
	{ 15663104, 65536 },
	{ 15728640, 65536 },
	{ 15794176, 65536 },
	{ 15859712, 65536 },
	{ 15925248, 65536 },
	{ 15990784, 65536 },
	{ 16056320, 65536 },
	{ 16121856, 65536 },
	{ 16187392, 65536 },
	{ 16252928, 65536 },
	{ 16318464, 65536 },
	{ 16384000, 65536 },
	{ 16449536, 65536 },
	{ 16515072, 65536 },
	{ 16580608, 65536 },
	{ 16646144, 65536 },
	{ 16711680, 8192 },
	{ 16719872, 8192 },
	{ 16728064, 8192 },
	{ 16736256, 8192 },
	{ 16744448, 8192 },
	{ 16752640, 8192 },
	{ 16760832, 8192 },
	{ 16769024, 8192 }
};
static struct type_list_item type_list[] =
{
	{ 164u, '\0', 0, 65536, 8, &list_a4[0] },
	{ 79u, '\0', 0, 65536, 8, &list_a4[0] },
	{ 196u, '\0', 8900, 65536, 70, &list_c4[0] },
	{ 73u, '\0', 8777, 65536, 280, &list_49[0] },
	{ 95u, '\0', 8799, 65536, 71, &list_5f[0] },
	{ 92u, '\0', 8796, 65536, 284, &list_5c[0] },
	{ 0u, '\0', 0, 0, 0, NULL }
};
// clang-format on

void flash_sector_erace_addr(struct rominfo_item *rii, int offset)
{
	vu8 *effective_address_1;
	vu8 *config_address_1_1;
	vu8 *config_address_2_1;
	vu16 *effective_address_2;
	vu16 *config_offset_1_2;
	vu16 *config_offset_2_2;

	CpuDisableIntr();
	switch ( rii->m_write_width )
	{
		case 8:
			effective_address_1 = (u8 *)((u8 *)rii->m_base_address + offset);
			config_address_1_1 = &effective_address_1[rii->m_config_offset_1];
			config_address_2_1 = &effective_address_1[rii->m_config_offset_2];
			*config_address_1_1 = 0xAA;
			*config_address_2_1 = 0x55;
			*config_address_1_1 = 0x80;
			*config_address_1_1 = 0xAA;
			*config_address_2_1 = 0x55;
			*effective_address_1 = 0x30;
			_wait(50);
			while ( (u8)*effective_address_1 != 0xFF )
				_wait(5);
			break;
		case 16:
			effective_address_2 = (u16 *)((u8 *)rii->m_base_address + offset);
			config_offset_1_2 = &effective_address_2[rii->m_config_offset_1];
			config_offset_2_2 = &effective_address_2[rii->m_config_offset_2];
			*config_offset_1_2 = 0xAA;
			*config_offset_2_2 = 0x55;
			*config_offset_1_2 = 0x80;
			*config_offset_1_2 = 0xAA;
			*config_offset_2_2 = 0x55;
			*effective_address_2 = 0x30;
			_wait(50);
			while ( (u16)*effective_address_2 != 0xFFFF )
				_wait(5);
			break;
		default:
			break;
	}
	flash_reset(rii);
	CpuEnableIntr();
}

#if 0
static void flash_sector_erace(struct rominfo_item *rii, struct flash_rom_work *frw)
{
	int cur_update_sector;

	for ( cur_update_sector = frw->m_update_sector_lower; frw->m_update_sector_upper >= cur_update_sector; cur_update_sector += 1 )
	{
		flash_sector_erace_addr(rii, frw->m_type_list_element->m_sector_range[cur_update_sector].m_offset);
	}
}
#endif

static struct type_list_item *flash_set_offset(struct type_list_item *tli, int offset)
{
	int i;

	if (
		(tli->m_sector_range[tli->m_sector_range_elements - 1].m_offset < offset) || (tli->m_sector_range_elements <= 0) )
		return 0;
	for ( i = 0; i < tli->m_sector_range_elements; i += 1 )
	{
		if ( tli->m_sector_range[i].m_offset == offset )
		{
			for ( ; i < tli->m_sector_range_elements; i += 1 )
			{
				tli->m_sector_range[i].m_offset -= offset;
			}
			tli->m_sector_range = &tli->m_sector_range[i];
			tli->m_sector_range_elements -= i;
			return tli;
		}
	}
	return 0;
}

struct type_list_item *flash_type_search(const struct rominfo_item *rii)
{
	struct type_list_item *cur_list;

	switch ( rii->m_write_width )
	{
		case 8:
			for ( cur_list = type_list; cur_list->m_sector_range; cur_list += 1 )
			{
				if ( cur_list->m_device_id_8bit == rii->m_device_id )
					return flash_set_offset(cur_list, rii->m_flash_offset);
			}
			break;
		case 16:
			for ( cur_list = type_list; cur_list->m_sector_range; cur_list += 1 )
			{
				if ( cur_list->m_device_id_16bit == rii->m_device_id )
					return flash_set_offset(cur_list, rii->m_flash_offset);
			}
			break;
		default:
			break;
	}
	return 0;
}

int flash_sector_search(struct type_list_item *tli, int offset_absolute, int block_size, struct flash_rom_work *frw)
{
	int i;

	if ( !tli || (tli->m_sector_range[tli->m_sector_range_elements - 1].m_offset + tli->m_sector_range[tli->m_sector_range_elements - 1].m_length < (offset_absolute + block_size)) )
		return 1;
	frw->m_type_list_element = tli;
	for ( i = 0; i < tli->m_sector_range_elements; i += 1 )
	{
		if ( offset_absolute < tli->m_sector_range[i].m_offset + tli->m_sector_range[i].m_length )
		{
			frw->m_update_sector_lower = i;
			frw->m_update_offset = tli->m_sector_range[i].m_offset;
			break;
		}
	}
	for ( ; i < tli->m_sector_range_elements; i += 1 )
	{
		if ( tli->m_sector_range[i].m_offset + tli->m_sector_range[i].m_length < (offset_absolute + block_size) )
		{
			frw->m_update_sector_upper = i;
			frw->m_update_length = tli->m_sector_range[i].m_offset + tli->m_sector_range[i].m_length - frw->m_update_offset;
			break;
		}
	}
	return 0;
}
